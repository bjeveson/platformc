/*============================================================================*/
/*  Copyright:           (c) 2008 -2014  By HuYongFu                          */
/*  Programm :                 My Lib                                         */
/*  File     : Maths.c                                                        */
/*  Descript :                                                                */
/*  API Pref :                                                                */
/*  Author   : HuYongFu                                                       */
/*  Version  : V1.00                                                          */
/*  Date     : 2013.7.25                                                      */
/*============================================================================*/
/*  Modify Log:Must Have Date Author Descript                                 */
/*  1.                                                                        */
/*============================================================================*/

/*============================================================================*/
/* Include Head File,Order:Lib Head File,Public Head File,Private Head File   */
/*============================================================================*/
#include <stdio.h>
#include <time.h>
#include <stdlib.h>

#include "Arch.h"
#include "VarType.h"
#include "ErrorCode.h"

#include "Maths.h"

/*============================================================================*/
/* Macro Define                                                               */
/*============================================================================*/

/*============================================================================*/
/* Gloabal Var                                                                */
/*============================================================================*/

/*============================================================================*/
/* Data Type In This File                                                     */
/*============================================================================*/

/*============================================================================*/
/* Static Function Declare                                                    */
/*============================================================================*/

/*============================================================================*/
/* Non-Static Function Code                                                   */
/*============================================================================*/
/*============================================================================*/
/*  Function : Math_Factorial                                                 */
/*  Input    : %1 --  num                                                     */
/*  Output   :                                                                */
/*  Return   : Error Code                                                     */
/*  Desc     : Calculate the result of n! n is a int n                        */
/*  Author   : HuYongFu                                                       */
/*  Version  : V1.00                                                          */
/*  Date     : 2013.7.25                                                      */
/*============================================================================*/
/*  Modify Log:Must Have Date Author Description                              */
/*  1.                                                                        */
/*============================================================================*/
UINT32 Math_Factorial(UINT32 n)
{
	if (n <= 1)
	{
		return 1;
	}
	else
	{
		return Math_Factorial(n - 1) * n;
	}
}

/*============================================================================*/
/*  Function : Math_IsPalindromeNum                                           */
/*  Input    : %1 --                                                          */
/*  Output   :                                                                */
/*  Return   : Error Code                                                     */
/*  Desc     : Judge the num is palindrome or not                             */
/*  Author   : HuYongFu                                                       */
/*  Version  : V1.00                                                          */
/*  Date     : 2013.7.25                                                      */
/*============================================================================*/
/*  Modify Log:Must Have Date Author Description                              */
/*  1.                                                                        */
/*============================================================================*/
UINT32 Math_IsPalindromeNum(UINT32 num)
{
	UINT32 a[16], bit = 0, i, flag = 0;

	do 
	{
		a[bit]=num % 10;
		bit++;
	}while(num /= 10);
	
	if (bit >= 16)
	{
		return -1;
    }
    
	for (i=0; i < bit / 2; i++) 
	{
		if (a[i] != a[bit - 1 - i]) 
		{
			flag = 0;
			break;
		} 
		else 
		{
			flag = 1;
			continue;
		}
	}
	
	if(flag == 1)
	{
		return MATH_NUM_IS_PALINDROME;
    }
	else
	{
		return MATH_NUM_NOT_PALINDROME;
	}
}

/*============================================================================*/
/*  Function : Math_Random                                                    */
/*  Input    : %1 --                                                          */
/*  Output   :                                                                */
/*  Return   : Error Code                                                     */
/*  Desc     :                                                                */
/*  Author   : HuYongFu                                                       */
/*  Version  : V1.00                                                          */
/*  Date     : 2013.8.1                                                       */
/*============================================================================*/
/*  Modify Log:Must Have Date Author Description                              */
/*  1.                                                                        */
/*============================================================================*/
UINT32 Math_Random(UINT32 Para)
{
    INT32 seed;
    
    seed = (INT32)time(0);
    srand(seed + Para);

    return rand();
}

/*============================================================================*/
/* Static Function Code                                                       */
/*============================================================================*/


